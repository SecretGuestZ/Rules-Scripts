#!name = 雪球去广告
#!desc = 去除雪球开屏广告、信息流广告
#!homepage = https://raw.githubusercontent.com/WesleyRhodes/Script/main/shadowsocks/xueqiu.module
#!Modified = @SecretGuestZ

[Rewrite]
# ====== 雪球 去广告规则 chatgpt优化======
# 开屏广告
^https?:\/\/xqimg\.imedao\.com\/[a-z0-9]{24}\.jpg$ reject-200
# 搜索页广告
^https?:\/\/api\.xueqiu\.com\/brand\/search\/v1\.json url reject
# 启动页/策略广告
^https?:\/\/api\.xueqiu\.com\/snowpard\/launch_strategy\/query(\.json)? url reject-dict
# 用户资料页广告
^https?:\/\/api\.xueqiu\.com\/ucprofile\/api\/user\/batchGetUserBasicInfo url reject-dict
# 推荐页广告
^https?:\/\/api\.xueqiu\.com\/statuses\/recommend_timeline(\.json)? url reject-dict
# Feed 流广告
^https?:\/\/api\.xueqiu\.com\/statuses\/(hot|friends_timeline|stock_timeline|status_query) url reject-dict
# 详情页广告
^https?:\/\/api\.xueqiu\.com\/statuses\/status_detail url reject-dict
# 搜索 banner 广告
^https?:\/\/api\.xueqiu\.com\/search\/trends\/v2 url reject-dict
# 其他广告位
^https?:\/\/api\.xueqiu\.com\/snowpard\/ad_strategy url reject-dict

[Script]
# 雪球去广告
http-response ^https?:\/\/api\.xueqiu\.com\/.*(timeline_tab_name|analysis\/home\/my_tab\.json) requires-body=1, script-path=https://raw.githubusercontent.com/SecretGuestZ/Rules-Scripts/main/Resource/js/snowball_ad.js, tag=雪球去广告

# [Script]
# http-response ^https?:\/\/api\.xueqiu\.com\/.*(timeline_tab_name|analysis\/home\/my_tab\.json) script-path=https://raw.githubusercontent.com/SecretGuestZ/Rules-Scripts/main/Resource/js/snowball_ad.js, requires-body=true, tag=雪球去广告


[MITM]
hostname = api.xueqiu.com, open.xueqiu.com, stock.xueqiu.com, 39.103.79.14, 39.106.97.84, 47.95.49.75, 101.201.62.20, 101.201.62.26, 101.201.175.228, 124.250.48.3, 182.92.145.50, 182.92.251.113
